var Slick=Slick||{};Slick._=(()=>{var y=Object.defineProperty;var V=Object.getOwnPropertyDescriptor;var w=Object.getOwnPropertyNames;var b=Object.prototype.hasOwnProperty;var L=(i,t)=>{for(var e in t)y(i,e,{get:t[e],enumerable:!0})},E=(i,t,e,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of w(t))!b.call(i,n)&&n!==e&&y(i,n,{get:()=>t[n],enumerable:!(a=V(t,n))||a.enumerable});return i};var C=i=>E(y({},"__esModule",{value:!0}),i);var D={};L(D,{CheckboxEditor:()=>h,DateEditor:()=>d,Editors:()=>x,FloatEditor:()=>o,IntegerEditor:()=>p,LongTextEditor:()=>v,PercentCompleteEditor:()=>_,TextEditor:()=>r,YesNoSelectEditor:()=>c});var{escape:N,H:s,keyCode:A,parsePx:k}=Slick;var u=class{constructor(t){this._args=t,this.init()}destroy(){this._input.remove()}focus(){this._input.focus()}getValue(){return this._input.value}setValue(t){this._input.value=t}loadValue(t){var e;this._defaultValue=(e=t[this._args.column.field])!=null?e:"",this._input.value=this._defaultValue,this._input.select&&(this._input.defaultValue=this._defaultValue,this._input.select())}serializeValue(){return this._input.value}applyValue(t,e){t[this._args.column.field]=e}isValueChanged(){return!(this._input.value===""&&this._defaultValue==null)&&this._input.value!=this._defaultValue}validate(){if(this._args.column.validator){var t=this._args.column.validator(this._input.value,this._args);if(!t.valid)return t}return{valid:!0,msg:null}}},r=class extends u{init(){let e=this._input=this._args.container.appendChild(s("input",{type:"text",class:"editor-text slick-editor-text"}));e.addEventListener("keydown",this._args.editorCellNavOnLRKeys?O:T),e.focus(),e.select(),g(this,this._args,e)}},p=class extends r{serializeValue(){return parseInt(this._input.value,10)||0}validate(){return isNaN(parseInt(this._input.value,10))?{valid:!1,msg:"Please enter a valid integer"}:super.validate()}},f=class extends r{getDecimalPlaces(){var t=this._args.column.editorFixedDecimalPlaces;return typeof t=="undefined"&&(t=f.DefaultDecimalPlaces),!t&&t!==0?null:t}loadValue(t){this._defaultValue=t[this._args.column.field];var e=this.getDecimalPlaces();e!==null&&(this._defaultValue||this._defaultValue===0)&&this._defaultValue.toFixed&&(this._defaultValue=this._defaultValue.toFixed(e)),this._input.value=this._defaultValue,this._input.defaultValue=this._defaultValue,this._input.select()}serializeValue(){var t=parseFloat(this._input.value);f.AllowEmptyValue?!t&&t!==0&&(t=""):t=t||0;var e=this.getDecimalPlaces();return e!==null&&(t||t===0)&&t.toFixed&&(t=parseFloat(t.toFixed(e))),t}validate(){return isNaN(parseFloat(this._input.value))?{valid:!1,msg:"Please enter a valid number"}:super.validate()}},o=f;o.AllowEmptyValue=!1,o.DefaultDecimalPlaces=null;var d=class extends r{constructor(){super(...arguments);this._calendarOpen=!1}init(){super.init(),$(this._input).datepicker({showOn:"button",buttonImage:"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='currentColor' class='bi bi-calendar' viewBox='0 0 16 16'%3E%3Cpath d='M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5zM1 4v10a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V4H1z'/%3E%3C/svg%3E",buttonImageOnly:!0,beforeShow:()=>{this._calendarOpen=!0},onClose:()=>{this._calendarOpen=!1,this._args.compositeEditorOptions&&m(this,this._args)}}),this._input.style.width=k(getComputedStyle(this._input).width)-(this._args.compositeEditorOptions?28:18)+"px"}destroy(){$.datepicker.dpDiv.stop(!0,!0),$(this._input).datepicker("hide").datepicker("destroy"),super.destroy()}show(){this._calendarOpen&&$.datepicker.dpDiv.stop(!0,!0).show()}hide(){this._calendarOpen&&$.datepicker.dpDiv.stop(!0,!0).hide()}position(e){this._calendarOpen&&$.datepicker.dpDiv.css("top",e.top+30).css("left",e.left)}},c=class extends u{init(){this._args.container.appendChild(this._input=s("select",{tabIndex:"0",class:"editor-yesno slick-editor-yesno"},s("option",{value:"yes"},"Yes"),s("option",{value:"no"},"No"))),this._input.focus(),g(this,this._args,this._input)}loadValue(e){this._input.value=(this._defaultValue=e[this._args.column.field])?"yes":"no"}serializeValue(){return this._input.value==="yes"}isValueChanged(){return this._input.value!=this._defaultValue}validate(){return{valid:!0,msg:null}}},h=class extends u{init(){this._input=this._args.container.appendChild(s("input",{type:"checkbox",value:"true",class:"editor-checkbox slick-editor-checkbox",hideFocus:!0})),this._input.focus(),g(this,this._args,this._input)}loadValue(e){this._defaultValue=!!e[this._args.column.field],this._input.checked=!!this._defaultValue}preClick(){this._input.checked=!this._input.checked}serializeValue(){return this._input.checked}applyValue(e,a){e[this._args.column.field]=a}isValueChanged(){return this.serializeValue()!==this._defaultValue}validate(){return{valid:!0,msg:null}}},_=class extends p{init(){super.init(),this._input.classList.remove("editor-text","slick-editor-text"),this._input.classList.add("editor-percentcomplete","slick-editor-percentcomplete");var e;this._picker=this._args.container.appendChild(s("div",{class:"slick-editor-percentcomplete-picker"},s("div",{class:"slick-editor-percentcomplete-helper"},s("div",{class:"slick-editor-percentcomplete-wrapper"},s("div",{class:"slick-editor-percentcomplete-slider",ref:a=>e=a}),s("div",{class:"slick-editor-percentcomplete-buttons"},s("button",{"data-val":0},"Not started"),s("button",{"data-val":50},"In Progress"),s("button",{"data-val":100},"Complete")))))),this._input.focus(),this._input.select(),$(e).slider({orientation:"vertical",range:"min",value:this._defaultValue,slide:(a,n)=>{this._input.value=n.value},stop:()=>{this._args.compositeEditorOptions&&m(this,this._args)}}),$(this._picker).find(".slick-editor-percentcomplete-buttons button").on("click",a=>{this._input.value=a.target.dataset.val,$(e).slider("value",a.target.dataset.val)})}destroy(){super.destroy(),this._picker.remove()}},v=class extends u{init(){let e=this._args.compositeEditorOptions;this._container=e?this._args.container:document.body,this._wrapper=this._container.appendChild(s("div",{class:"large-editor-text slick-large-editor-text",style:`z-index:10000; background:white; padding:5px; border:3px solid gray; border-radius:10px;${e?"position: relative; padding: 0; border: 0":"position: absolute"}`},s("textarea",{hidefocus:!0,rows:"5",style:"background:white; width:250px; height:80px; border:0; outline:0",ref:a=>this._input=a}))),e?g(this,this._args,this._input):(this._wrapper.appendChild(s("div",{style:"text-align: right"},s("button",{ref:a=>a.addEventListener("click",this.save.bind(this))},"Save"),s("button",{ref:a=>a.addEventListener("click",this.cancel.bind(this))},"Cancel"))),this._input.addEventListener("keydown",this.handleKeyDown.bind(this)),this.position(this._args.position)),this._input.focus(),this._input.select()}handleKeyDown(e){if(e.key==="Enter"&&e.ctrlKey)this.save();else if(e.key==="Esc"||e.key=="Escape")e.preventDefault(),this.cancel();else if(e.key==="Tab"&&e.shiftKey)e.preventDefault(),this._args.grid.navigatePrev();else if(e.key==="Tab")e.preventDefault(),this._args.grid.navigateNext();else if((e.key==="Left"||e.key==="ArrowLeft"||e.key==="Right"||e.key==="ArrowRight")&&this._args.editorCellNavOnLRKeys){var a=e.target.selectionStart,n=e.target.value.length;(e.key==="Left"||e.key==="ArrowLeft")&&a===0&&this._args.grid.navigatePrev(),(e.key==="Right"||e.key==="ArrowRight")&&a>=n-1&&this._args.grid.navigateNext()}}save(){this._args.commitChanges()}cancel(){this._input.value=this._defaultValue,this._args.cancelChanges()}hide(){this._wrapper.style.display="none"}show(){this._wrapper.style.display=null}position(e){this._wrapper.style.top=e.top-5+"px",this._wrapper.style.left=e.left-5+"px"}destroy(){this._wrapper.remove()}};function g(i,t,e){t.compositeEditorOptions&&e.addEventListener("change",()=>{m(i,t)})}function m(i,t){var e=t.grid.getActiveCell();i.validate().valid&&i.applyValue(t.item,i.serializeValue()),i.applyValue(t.compositeEditorOptions.formValues,i.serializeValue()),t.grid.onCompositeEditorChange.notify({row:e.row,cell:e.cell,item:t.item,column:t.column,formValues:t.compositeEditorOptions.formValues})}function O(i){var t=this.selectionStart,e=this.value.length;((i.key==="Left"||i.key==="ArrowLeft")&&t>0||(i.key==="Right"||i.key==="ArrowRight")&&t<e-1)&&i.stopImmediatePropagation()}function T(i){(i.key==="Left"||i.key==="ArrowLeft"||i.key==="Right"||i.key==="ArrowRight")&&i.stopImmediatePropagation()}var x;(l=>(l.Text=r,l.Integer=p,l.Float=o,l.Date=d,l.YesNoSelect=c,l.Checkbox=h,l.PercentComplete=_,l.LongText=v))(x||(x={}));return C(D);})();
["Data", "Editors", "Formatters", "Plugins"].forEach(ns => Slick._[ns] && (Slick[ns] = Object.assign(Slick[ns] || {}, Slick._[ns])) && delete Slick._[ns]); Object.assign(Slick, Slick._); delete Slick._;
//# sourceMappingURL=slick.editors.min.js.map
