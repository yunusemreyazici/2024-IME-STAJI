var Slick=Slick||{};Slick._=(()=>{var y=Object.defineProperty;var V=Object.getOwnPropertyDescriptor;var w=Object.getOwnPropertyNames;var b=Object.prototype.hasOwnProperty;var L=(i,e)=>{for(var t in e)y(i,t,{get:e[t],enumerable:!0})},E=(i,e,t,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of w(e))!b.call(i,n)&&n!==t&&y(i,n,{get:()=>e[n],enumerable:!(s=V(e,n))||s.enumerable});return i};var C=i=>E(y({},"__esModule",{value:!0}),i);var D={};L(D,{CheckboxEditor:()=>_,DateEditor:()=>c,Editors:()=>x,FloatEditor:()=>d,IntegerEditor:()=>p,LongTextEditor:()=>f,PercentCompleteEditor:()=>v,TextEditor:()=>r,YesNoSelectEditor:()=>h});var{escape:N,H:a,keyCode:A,parsePx:k}=Slick;var u=class{constructor(e){this._args=e,this.init()}destroy(){this._input.remove()}focus(){this._input.focus()}getValue(){return this._input.value}setValue(e){this._input.value=e}loadValue(e){var t;this._defaultValue=(t=e[this._args.column.field])!=null?t:"",this._input.value=this._defaultValue,this._input.select&&(this._input.defaultValue=this._defaultValue,this._input.select())}serializeValue(){return this._input.value}applyValue(e,t){e[this._args.column.field]=t}isValueChanged(){return!(this._input.value===""&&this._defaultValue==null)&&this._input.value!=this._defaultValue}validate(){if(this._args.column.validator){var e=this._args.column.validator(this._input.value,this._args);if(!e.valid)return e}return{valid:!0,msg:null}}},r=class extends u{init(){let e=this._input=this._args.container.appendChild(a("input",{type:"text",class:"editor-text slick-editor-text"}));e.addEventListener("keydown",this._args.editorCellNavOnLRKeys?O:T),e.focus(),e.select(),g(this,this._args,e)}},p=class extends r{serializeValue(){return parseInt(this._input.value,10)||0}validate(){return isNaN(parseInt(this._input.value,10))?{valid:!1,msg:"Please enter a valid integer"}:super.validate()}},o=class o extends r{getDecimalPlaces(){var e=this._args.column.editorFixedDecimalPlaces;return typeof e=="undefined"&&(e=o.DefaultDecimalPlaces),!e&&e!==0?null:e}loadValue(e){this._defaultValue=e[this._args.column.field];var t=this.getDecimalPlaces();t!==null&&(this._defaultValue||this._defaultValue===0)&&this._defaultValue.toFixed&&(this._defaultValue=this._defaultValue.toFixed(t)),this._input.value=this._defaultValue,this._input.defaultValue=this._defaultValue,this._input.select()}serializeValue(){var e=parseFloat(this._input.value);o.AllowEmptyValue?!e&&e!==0&&(e=""):e=e||0;var t=this.getDecimalPlaces();return t!==null&&(e||e===0)&&e.toFixed&&(e=parseFloat(e.toFixed(t))),e}validate(){return isNaN(parseFloat(this._input.value))?{valid:!1,msg:"Please enter a valid number"}:super.validate()}};o.AllowEmptyValue=!1,o.DefaultDecimalPlaces=null;var d=o,c=class extends r{constructor(){super(...arguments);this._calendarOpen=!1}init(){super.init(),$(this._input).datepicker({showOn:"button",buttonImage:"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='currentColor' class='bi bi-calendar' viewBox='0 0 16 16'%3E%3Cpath d='M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5zM1 4v10a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V4H1z'/%3E%3C/svg%3E",buttonImageOnly:!0,beforeShow:()=>{this._calendarOpen=!0},onClose:()=>{this._calendarOpen=!1,this._args.compositeEditorOptions&&m(this,this._args)}}),this._input.style.width=k(getComputedStyle(this._input).width)-(this._args.compositeEditorOptions?28:18)+"px"}destroy(){$.datepicker.dpDiv.stop(!0,!0),$(this._input).datepicker("hide").datepicker("destroy"),super.destroy()}show(){this._calendarOpen&&$.datepicker.dpDiv.stop(!0,!0).show()}hide(){this._calendarOpen&&$.datepicker.dpDiv.stop(!0,!0).hide()}position(t){this._calendarOpen&&$.datepicker.dpDiv.css("top",t.top+30).css("left",t.left)}},h=class extends u{init(){this._args.container.appendChild(this._input=a("select",{tabIndex:"0",class:"editor-yesno slick-editor-yesno"},a("option",{value:"yes"},"Yes"),a("option",{value:"no"},"No"))),this._input.focus(),g(this,this._args,this._input)}loadValue(e){this._input.value=(this._defaultValue=e[this._args.column.field])?"yes":"no"}serializeValue(){return this._input.value==="yes"}isValueChanged(){return this._input.value!=this._defaultValue}validate(){return{valid:!0,msg:null}}},_=class extends u{init(){this._input=this._args.container.appendChild(a("input",{type:"checkbox",value:"true",class:"editor-checkbox slick-editor-checkbox",hideFocus:!0})),this._input.focus(),g(this,this._args,this._input)}loadValue(e){this._defaultValue=!!e[this._args.column.field],this._input.checked=!!this._defaultValue}preClick(){this._input.checked=!this._input.checked}serializeValue(){return this._input.checked}applyValue(e,t){e[this._args.column.field]=t}isValueChanged(){return this.serializeValue()!==this._defaultValue}validate(){return{valid:!0,msg:null}}},v=class extends p{init(){super.init(),this._input.classList.remove("editor-text","slick-editor-text"),this._input.classList.add("editor-percentcomplete","slick-editor-percentcomplete");var t;this._picker=this._args.container.appendChild(a("div",{class:"slick-editor-percentcomplete-picker"},a("div",{class:"slick-editor-percentcomplete-helper"},a("div",{class:"slick-editor-percentcomplete-wrapper"},a("div",{class:"slick-editor-percentcomplete-slider",ref:s=>t=s}),a("div",{class:"slick-editor-percentcomplete-buttons"},a("button",{"data-val":0},"Not started"),a("button",{"data-val":50},"In Progress"),a("button",{"data-val":100},"Complete")))))),this._input.focus(),this._input.select(),$(t).slider({orientation:"vertical",range:"min",value:this._defaultValue,slide:(s,n)=>{this._input.value=n.value},stop:()=>{this._args.compositeEditorOptions&&m(this,this._args)}}),$(this._picker).find(".slick-editor-percentcomplete-buttons button").on("click",s=>{this._input.value=s.target.dataset.val,$(t).slider("value",s.target.dataset.val)})}destroy(){super.destroy(),this._picker.remove()}},f=class extends u{init(){let t=this._args.compositeEditorOptions;this._container=t?this._args.container:document.body,this._wrapper=this._container.appendChild(a("div",{class:"large-editor-text slick-large-editor-text",style:`z-index:10000; background:white; padding:5px; border:3px solid gray; border-radius:10px;${t?"position: relative; padding: 0; border: 0":"position: absolute"}`},a("textarea",{hidefocus:!0,rows:"5",style:"background:white; width:250px; height:80px; border:0; outline:0",ref:s=>this._input=s}))),t?g(this,this._args,this._input):(this._wrapper.appendChild(a("div",{style:"text-align: right"},a("button",{ref:s=>s.addEventListener("click",this.save.bind(this))},"Save"),a("button",{ref:s=>s.addEventListener("click",this.cancel.bind(this))},"Cancel"))),this._input.addEventListener("keydown",this.handleKeyDown.bind(this)),this.position(this._args.position)),this._input.focus(),this._input.select()}handleKeyDown(t){if(t.key==="Enter"&&t.ctrlKey)this.save();else if(t.key==="Esc"||t.key=="Escape")t.preventDefault(),this.cancel();else if(t.key==="Tab"&&t.shiftKey)t.preventDefault(),this._args.grid.navigatePrev();else if(t.key==="Tab")t.preventDefault(),this._args.grid.navigateNext();else if((t.key==="Left"||t.key==="ArrowLeft"||t.key==="Right"||t.key==="ArrowRight")&&this._args.editorCellNavOnLRKeys){var s=t.target.selectionStart,n=t.target.value.length;(t.key==="Left"||t.key==="ArrowLeft")&&s===0&&this._args.grid.navigatePrev(),(t.key==="Right"||t.key==="ArrowRight")&&s>=n-1&&this._args.grid.navigateNext()}}save(){this._args.commitChanges()}cancel(){this._input.value=this._defaultValue,this._args.cancelChanges()}hide(){this._wrapper.style.display="none"}show(){this._wrapper.style.display=null}position(t){this._wrapper.style.top=t.top-5+"px",this._wrapper.style.left=t.left-5+"px"}destroy(){this._wrapper.remove()}};function g(i,e,t){e.compositeEditorOptions&&t.addEventListener("change",()=>{m(i,e)})}function m(i,e){var t=e.grid.getActiveCell();i.validate().valid&&i.applyValue(e.item,i.serializeValue()),i.applyValue(e.compositeEditorOptions.formValues,i.serializeValue()),e.grid.onCompositeEditorChange.notify({row:t.row,cell:t.cell,item:e.item,column:e.column,formValues:e.compositeEditorOptions.formValues})}function O(i){var e=this.selectionStart,t=this.value.length;((i.key==="Left"||i.key==="ArrowLeft")&&e>0||(i.key==="Right"||i.key==="ArrowRight")&&e<t-1)&&i.stopImmediatePropagation()}function T(i){(i.key==="Left"||i.key==="ArrowLeft"||i.key==="Right"||i.key==="ArrowRight")&&i.stopImmediatePropagation()}var x;(l=>(l.Text=r,l.Integer=p,l.Float=d,l.Date=c,l.YesNoSelect=h,l.Checkbox=_,l.PercentComplete=v,l.LongText=f))(x||(x={}));return C(D);})();
["Data", "Editors", "Formatters", "Plugins"].forEach(ns => Slick._[ns] && (Slick[ns] = Object.assign(Slick[ns] || {}, Slick._[ns])) && delete Slick._[ns]); Object.assign(Slick, Slick._); delete Slick._;
//# sourceMappingURL=slick.editors.min.js.map
